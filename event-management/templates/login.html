{% extends "base.html" %}

{% block title %}Admin Login{% endblock %}

{% block content %}
<div class="card" style="max-width: 460px;">
    <h2>Admin Login</h2>
    <p><strong>Username:</strong> {{ admin_username }}</p>
    <p class="muted">Password is not displayed for security.</p>
    <form action="{{ url_for('login') }}" method="POST">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        <input type="hidden" name="next" value="{{ next_url }}">
        <label for="username">Username</label>
        <input id="username" type="text" name="username" placeholder="Username" required style="margin-bottom: 10px;">
        <label for="password">Password</label>
        <button id="toggle-password" type="button" style="width: auto; margin-bottom: 8px;">Show Password</button>
        <input id="password" type="password" name="password" placeholder="Password" required style="margin-bottom: 10px;">
        <button type="submit">Login</button>
    </form>
</div>
<script>
    (function () {
        const button = document.getElementById("toggle-password");
        const passwordInput = document.getElementById("password");
        if (!button || !passwordInput) return;

        button.addEventListener("click", function () {
            const isHidden = passwordInput.type === "password";
            passwordInput.type = isHidden ? "text" : "password";
            button.textContent = isHidden ? "Hide Password" : "Show Password";
        });
    })();
</script>
{% endblock %}
